<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>gcp | EZRA BLOG</title><meta name="author" content="YISHENG WU"><meta name="copyright" content="YISHENG WU"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="臨時抱佛腳-GCP競賽整理筆記-觀念釐清 22年考古建立VM|VPCcreate VPC | SubNet | FR | VM |SSH12345gcloud compute networks create --helpgcloud compute networks subnets create --helpgcloud compute firewall-rules create --helpgc">
<meta property="og:type" content="article">
<meta property="og:title" content="gcp">
<meta property="og:url" content="https://ezrawu-tw.github.io/2025/10/28/gcp/index.html">
<meta property="og:site_name" content="EZRA BLOG">
<meta property="og:description" content="臨時抱佛腳-GCP競賽整理筆記-觀念釐清 22年考古建立VM|VPCcreate VPC | SubNet | FR | VM |SSH12345gcloud compute networks create --helpgcloud compute networks subnets create --helpgcloud compute firewall-rules create --helpgc">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://lh3.googleusercontent.com/a/ACg8ocJ-AxqZX3ywO-st4G6QEtLv0mhEAW2WnVCCd3FKD2xlTFwvXmkeRA=s288-c-no">
<meta property="article:published_time" content="2025-10-28T04:07:45.000Z">
<meta property="article:modified_time" content="2025-10-28T05:27:38.000Z">
<meta property="article:author" content="YISHENG WU">
<meta property="article:tag" content="google">
<meta property="article:tag" content="google cloud">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://lh3.googleusercontent.com/a/ACg8ocJ-AxqZX3ywO-st4G6QEtLv0mhEAW2WnVCCd3FKD2xlTFwvXmkeRA=s288-c-no"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "gcp",
  "url": "https://ezrawu-tw.github.io/2025/10/28/gcp/",
  "image": "https://lh3.googleusercontent.com/a/ACg8ocJ-AxqZX3ywO-st4G6QEtLv0mhEAW2WnVCCd3FKD2xlTFwvXmkeRA=s288-c-no",
  "datePublished": "2025-10-28T04:07:45.000Z",
  "dateModified": "2025-10-28T05:27:38.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "YISHENG WU",
      "url": "https://ezrawu-tw.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/img/happy.png"><link rel="canonical" href="https://ezrawu-tw.github.io/2025/10/28/gcp/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'gcp',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 8.1.1"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="https://lh3.googleusercontent.com/a/ACg8ocJ-AxqZX3ywO-st4G6QEtLv0mhEAW2WnVCCd3FKD2xlTFwvXmkeRA=s288-c-no" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">41</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">43</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">9</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Timeline</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Category</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About me</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">EZRA BLOG</span></a><a class="nav-page-title" href="/"><span class="site-name">gcp</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  Back to Home</span></span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Timeline</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Category</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About me</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">gcp</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2025-10-28T04:07:45.000Z" title="Created 2025-10-28 12:07:45">2025-10-28</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2025-10-28T05:27:38.000Z" title="Updated 2025-10-28 13:27:38">2025-10-28</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Google-Note/">Google_Note</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word Count:</span><span class="word-count">3.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading Time:</span><span>13mins</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="臨時抱佛腳-GCP競賽整理"><a href="#臨時抱佛腳-GCP競賽整理" class="headerlink" title="臨時抱佛腳-GCP競賽整理"></a>臨時抱佛腳-GCP競賽整理</h1><p><a target="_blank" rel="noopener" href="https://hackmd.io/@Eason2392/B1CqW-mkC">筆記-觀念釐清</a></p>
<h2 id="22年考古"><a href="#22年考古" class="headerlink" title="22年考古"></a>22年考古</h2><h3 id="建立VM-VPC"><a href="#建立VM-VPC" class="headerlink" title="建立VM|VPC"></a>建立VM|VPC</h3><h4 id="create-VPC-SubNet-FR-VM-SSH"><a href="#create-VPC-SubNet-FR-VM-SSH" class="headerlink" title="create VPC | SubNet | FR | VM |SSH"></a>create VPC | SubNet | FR | VM |SSH</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">gcloud compute networks create --help</span><br><span class="line">gcloud compute networks subnets create --help</span><br><span class="line">gcloud compute firewall-rules create --help</span><br><span class="line">gcloud compute instances create --help</span><br><span class="line">gcloud compute ssh --help</span><br></pre></td></tr></table></figure>
<h3 id="建立SQL-DB"><a href="#建立SQL-DB" class="headerlink" title="建立SQL DB"></a>建立SQL DB</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gcloud compute networks create --help</span><br><span class="line">gcloud compute networks subnets create --help</span><br></pre></td></tr></table></figure>
<h4 id="建立cloud-sql-management-instance-group"><a href="#建立cloud-sql-management-instance-group" class="headerlink" title="建立cloud sql | management instance group"></a>建立cloud sql | management instance group</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">gcloud sql instances --help</span><br><span class="line">gcloud compute instance-templates create --help</span><br><span class="line">gcloud compute instance-groups managed create --help</span><br><span class="line">gcloud compute instance-groups managed set-autoscaling --help</span><br><span class="line">gcloud compute instances add-tags --help</span><br></pre></td></tr></table></figure>
<h5 id="firewall-rule-for-healthy-check"><a href="#firewall-rule-for-healthy-check" class="headerlink" title="firewall rule for healthy check"></a>firewall rule for healthy check</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcloud compute firewall-rules create --help</span><br></pre></td></tr></table></figure>
<h5 id="HTTP-load-balance"><a href="#HTTP-load-balance" class="headerlink" title="HTTP load balance"></a>HTTP load balance</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">gcloud compute addresses create --help</span><br><span class="line">gcloud compute http-health-checks --help</span><br><span class="line">gcloud compute backend-services create --help</span><br><span class="line">gcloud compute backend-services add-backend url-maps --help </span><br><span class="line">gcloud compute target-http-proxies create --help </span><br><span class="line">gcloud compute forwarding-rules create --help </span><br></pre></td></tr></table></figure>

<h3 id="GCS-BUCKET"><a href="#GCS-BUCKET" class="headerlink" title="GCS BUCKET"></a>GCS BUCKET</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gcloud builds submit --help</span><br><span class="line">gcloud run deploy --help</span><br></pre></td></tr></table></figure>
<h1 id="22年解題過程"><a href="#22年解題過程" class="headerlink" title="22年解題過程"></a>22年解題過程</h1><h2 id="題目1"><a href="#題目1" class="headerlink" title="題目1"></a>題目1</h2><p>題目翻譯：<br>MeiDei演唱會的門票將在幾天內開放售賣。你的朋友想和他&#x2F;她的家人一起享受這場演唱會，所以他&#x2F;她急需一對門票。他&#x2F;她請求你幫他&#x2F;她準備一台機器，然後他&#x2F;她將啟動一些魔法腳本，一旦門票開放售賣就自動購買。票務系統位於台灣，你應該將從機器到票務系統的延遲降到最低，並且預算要小。為了保護這台機器，你需要設定只允許你和你的朋友（<a href="mailto:&#114;&#101;&#x66;&#x65;&#x72;&#101;&#101;&#45;&#x67;&#114;&#111;&#x75;&#112;&#64;&#116;&#x61;&#105;&#x77;&#97;&#x6e;&#x2d;&#53;&#x32;&#110;&#x64;&#x2d;&#110;&#x61;&#x74;&#105;&#111;&#110;&#97;&#108;&#45;&#115;&#107;&#105;&#x6c;&#108;&#115;&#45;&#99;&#111;&#x6d;&#x70;&#101;&#116;&#105;&#116;&#x69;&#111;&#110;&#46;&#x74;&#111;&#100;&#97;&#x79;">referee-group@taiwan-52nd-national-skills-competition.today</a>）使用Cloud Shell或cloud命令登錄。你的環境應該擁有：</p>
<p>名為meidei-vpe的VPC網絡<br>名為meidei-vpc-subnet的子網，位置：亞洲-東部-1，IP範圍：192.168.100.0&#x2F;24<br>防火牆規則名稱：allow-ssh-only<br>虛擬機器名稱：give-me-tickets（2個vCPU、4GB內存、10GB磁盤、Debian GNU&#x2F;Linux 10（buster），在meidei-vpe-subnet1子網中，區域為亞洲-東部-1）<br>使用gcloud解決這個問題。</p>
<p>以下是使用gcloud的解答：</p>
<p>bash<br>Copy code<br><em>創建VPC網絡和子網</em></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gcloud compute networks create meidei-vpe --subnet-mode=custom</span><br><span class="line">gcloud compute networks subnets create meidei-vpc-subnet --network=meidei-vpe --region=asia-east1 --range=192.168.100.0/24</span><br></pre></td></tr></table></figure>
<p><em>創建防火牆規則</em></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcloud compute firewall-rules create allow-ssh-only --network=meidei-vpe --allow=tcp:22 --source-ranges=[YOUR_IP]/32</span><br></pre></td></tr></table></figure>
<p><em>啟動虛擬機</em></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcloud compute instances create give-me-tickets --machine-type=n1-standard-2 --zone=asia-east1-a --subnet=meidei-vpc-subnet --image-family=debian-10 --image-project=debian-cloud --boot-disk-size=10GB --boot-disk-type=pd-standard --boot-disk-device-name=give-me-tickets</span><br></pre></td></tr></table></figure>
<p><em>添加SSH訪問權限</em></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcloud compute instances add-metadata give-me-tickets --metadata=ssh-keys=[USERNAME]:$(cat ~/.ssh/id_rsa.pub)</span><br></pre></td></tr></table></figure>
<p><em>允許Cloud Shell或cloud命令登錄</em></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcloud compute instances add-metadata give-me-tickets --metadata=enable-oslogin=TRUE</span><br></pre></td></tr></table></figure>
<p><em>添加參與者（你的朋友）</em></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcloud projects add-iam-policy-binding [YOUR_PROJECT_ID] --member=group:referee-group@taiwan-52nd-national-skills-competition.today --role=roles/compute.osLogin</span><br></pre></td></tr></table></figure>
<p>請替換命令中的[YOUR_IP]和[YOUR_PROJECT_ID]為你自己的IP地址和項目ID。</p>
<h2 id="題目2"><a href="#題目2" class="headerlink" title="題目2"></a>題目2</h2><p>題目翻譯：<br>BPM麵包店的業務蓬勃發展。由於服務能力不足，他們對自己的線上訂單系統感到困擾。他們進行了一些調查，最終決定將本地系統遷移到雲端。經過討論，你負責在GCP上設計一個架構來為BPM麵包店的線上訂單系統提供服務。他們希望系統能夠提供高可用性（能夠處理來自同一源VM的2000個並發請求）並且成本低廉。他們將提供他們網站的源代碼和數據庫的轉儲，你將幫助他們將這些資源遷移到雲環境中。<br>BPM麵包店提供的資源（您的項目有權讀取這些資源，這些資源存儲在Cloud Storage存儲桶中）：<br>環境應該包括：</p>
<ul>
<li>名為bpm-vpe的VPC網絡</li>
<li>台灣用於Web伺服器的子網，名為bpm-vpc-subnetl（10.0.1.0&#x2F;24）。</li>
<li>Google管理的SQL數據庫（MySQL 8.0），標記為problem-number: 2（請確保將problem-number: 2作為用戶定義標籤而不是Cloud SQL實例的名稱），沒有外部IP並僅允許來自Web伺服器的連接。</li>
<li>在bpm-vpe-subnetl（區域b）中的管理實例群組，名為bpm-mig：<ul>
<li>每個實例沒有外部IP，但需要能夠連接到互聯網；</li>
<li>每個實例的正常使用目的規格為2個vCPU、4GB RAM和10GB Debian GNU&#x2F;Linux 10（buster）持久性磁碟；</li>
<li>能夠根據CPU利用率閾值（60%）進行擴展&#x2F;縮減；</li>
<li>須使用最少1個實例且最多2個實例提供流量，並開放端口80以提供Web伺服器的內容。</li>
</ul>
</li>
<li>名為http-Ib的HTTP負載均衡器，具有名為htip-Ib-be的後端和名為http-ib-fe的前端（請使用預先準備的保留外部IP bpm-external-ip），用於將來自互聯網的流量負載均衡到Web伺服器。（對於此配置，請注意需要首先啟用健康檢查功能，方法是通過防火牆規則允許從130.211.0.0&#x2F;22和35.191.0.0&#x2F;16對實例的端口80進行入站。）</li>
</ul>
<p>除了上述所需的資源外，您可能需要利用進一步必要的服務來確保您的架構正常運作。</p>
<p>以下是使用gcloud解題的步驟和解釋：</p>
<ol>
<li><p><strong>建立VPC網絡和子網：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gcloud compute networks create bpm-vpe --subnet-mode=custom</span><br><span class="line">gcloud compute networks subnets create bpm-vpc-subnet1 --network=bpm-vpe --region=asia-east1 --range=10.0.1.0/24</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>建立Google管理的SQL數據庫：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcloud sql instances create [INSTANCE_NAME] --database-version=MYSQL_8_0 --region=[REGION] --no-address --labels=problem-number=2</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>建立管理實例群組：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gcloud compute instance-templates create bpm-instance-template --machine-type=n1-standard-2 --subnet=bpm-vpc-subnet1 --tags=bpm-mig --image=debian-10 --image-project=debian-cloud --boot-disk-size=10GB --boot-disk-type=pd-standard --boot-disk-device-name=bpm-instance-template</span><br><span class="line">gcloud compute instance-groups managed create bpm-mig --template=bpm-instance-template --base-instance-name=bpm-instance --size=1 --zone=[ZONE]</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>設定HTTP負載均衡器：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">gcloud compute addresses create bpm-external-ip --global</span><br><span class="line">gcloud compute firewall-rules create allow-health-check --network=bpm-vpe --allow=tcp:80 --source-ranges=130.211.0.0/22,35.191.0.0/16</span><br><span class="line">gcloud compute health-checks create http bpm-http-health-check --port=80</span><br><span class="line">gcloud compute backend-services create htip-Ib-be --protocol=HTTP --health-checks=bpm-http-health-check --global</span><br><span class="line">gcloud compute backend-services add-backend htip-Ib-be --instance-group=bpm-mig --instance-group-zone=[ZONE] --global</span><br><span class="line">gcloud compute url-maps create bpm-url-map --default-service=htip-Ib-be</span><br><span class="line">gcloud compute target-http-proxies create http-lb-proxy --url-map=bpm-url-map --global</span><br><span class="line">gcloud compute forwarding-rules create http-content-rule --address=bpm-external-ip --global --target-http-proxy=http-lb-proxy --ports=80</span><br></pre></td></tr></table></figure></li>
</ol>
<p>這些步驟將建立所需的基本架構，以實現高可用性並保持成本低廉。請替換適當的變量，如[</p>
<h2 id="題目3"><a href="#題目3" class="headerlink" title="題目3"></a>題目3</h2><p>Luxubuuu 公司正在為他們的新業務建立一個智能相冊應用程序。該應用程序應該通過利用幾個微服務來建立，這些微服務包括一個用於圖像上傳的網站和一個地標檢測系統。他們決定外包靜態官方網站托管和地標檢測系統，而你被委託處理這個任務。<br>你需要讓網站可以通過保留的 IP 地址 luxubuuu-external-ip 從互聯網訪問。<br>網站源代碼的位置（您的項目有權讀取這些資源，這些資源存儲在 Cloud Storage 存儲桶中）：<br>gs:&#x2F;&#x2F;taiwan-52nd-national-skills-competition-cloud-computing&#x2F;nsc-q3&#x2F;website<br>此外，Luxubuuu 公司希望通過他們精心準備的 Web 用戶界面上傳圖像（上傳的圖像應該被防止公開訪問），並使用特定的應用程序編程接口檢索提取的地標信息。<br>他們希望採用 SERVERLESS 架構，並且只會為你提供兩個微服務源代碼和相應的 Dockerfile：一個用於上傳圖像，另一個用於檢索地標信息。除了部署這兩個 Docker 映像外，你還負責在幕後構建地標信息提取服務。（提示：你可以利用 Google Vision API 完成這個 LANDMARKS DETECTION 任務。）<br>提供的 Docker 映像經過良好編碼，但需要你修改一些環境變量：項目 ID、JSON 憑證的路徑、Cloud Storage 的存儲桶名稱、Firestore 的集合名稱和文檔名稱。客戶還指定，發送到 http:&#x2F;&#x2F;<luxubuuu-external-ip>&#x2F;internal&#x2F;upload 的請求將使用 upload-service，而發送到 http:&#x2F;&#x2F;<luxubuuu-external-ip>&#x2F;internal&#x2F;retrieve 的請求將轉發到 retrieve-service。<br>upload-service 源代碼位置（您的項目有權讀取這些資源，這些資源存儲在 Cloud Storage 存儲桶中）：<br>gs:&#x2F;&#x2F;taiwan-52nd-national-skills-competition-cloud-computing&#x2F;nsc-q3&#x2F;upload-service<br>retrieve-service 源代碼位置（您的項目有權讀取這些資源，這些資源存儲在 Cloud Storage 存儲桶中）：<br>gs:&#x2F;&#x2F;taiwan-52nd-national-skills-competition-cloud-computing&#x2F;nsc-q3&#x2F;retrieve-service<br>請注意，提供的 upload-service 源代碼中有一個硬編碼的 Google Cloud Storage 圖像上傳過程。同樣，提供的 retrieve-service 源代碼中有一個硬編碼的 Firestore。</p>
<p>以下是解決問題的步驟和相應的gcloud指令：</p>
<ol>
<li><strong>設置網站靜態官方網站托管</strong>：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gsutil mb gs://luxubuuu-website</span><br><span class="line">gsutil <span class="built_in">cp</span> gs://taiwan-52nd-national-skills-competition-cloud-computing/nsc-q3/website/* gs://luxubuuu-website</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><strong>設置地標檢測服務</strong>：<br>這裡我們將使用 Google Vision API 來完成地標檢測任務，這是一個 Serverless 的解決方案。</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcloud services <span class="built_in">enable</span> vision.googleapis.com</span><br></pre></td></tr></table></figure>

<ol start="3">
<li><strong>部署微服務 upload-service 和 retrieve-service</strong>：<br>這裡我們需要修改 Dockerfile 中的環境變量，然後使用 Cloud Build 來部署。</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gcloud builds submit --tag gcr.io/[PROJECT_ID]/upload-service:v1 .</span><br><span class="line">gcloud builds submit --tag gcr.io/[PROJECT_ID]/retrieve-service:v1 .</span><br></pre></td></tr></table></figure>

<ol start="4">
<li><strong>部署 Cloud Function 來處理地標信息提取服務</strong>：<br>這裡我們使用 Cloud Functions 來處理地標信息的提取。</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">gcloud <span class="built_in">functions</span> deploy landmark-extraction \</span><br><span class="line">  --runtime=nodejs14 \</span><br><span class="line">  --trigger-http \</span><br><span class="line">  --allow-unauthenticated</span><br></pre></td></tr></table></figure>

<ol start="5">
<li><strong>設置 HTTP 負載平衡器轉發請求</strong>：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">gcloud compute addresses create luxubuuu-external-ip --global</span><br><span class="line">gcloud compute backend-buckets create website-bucket --gcs-bucket-name=luxubuuu-website</span><br><span class="line">gcloud compute backend-services create website-backend-service --global \</span><br><span class="line">    --backend-bucket=website-bucket</span><br><span class="line">gcloud compute url-maps create website-url-map --default-backend-service=website-backend-service</span><br><span class="line">gcloud compute target-http-proxies create website-http-proxy --url-map=website-url-map</span><br><span class="line">gcloud compute forwarding-rules create http-content-rule --address=luxubuuu-external-ip \</span><br><span class="line">    --global --target-http-proxy=website-http-proxy --ports=80</span><br></pre></td></tr></table></figure>

<p>這樣就完成了在 Google Cloud Platform 上構建 Luxubuuu 公司的智能相冊應用程序的架構設計。</p>
<h2 id="考題公告"><a href="#考題公告" class="headerlink" title="考題公告"></a>考題公告</h2><p>以下是與每個主題相關的gcloud指令以及它們的使用方法：</p>
<ol>
<li><p><strong>Pub&#x2F;Sub (佇列和發佈&#x2F;訂閱)</strong>：</p>
<ul>
<li><strong>建立主題（Topic）</strong>：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcloud pubsub topics create [TOPIC_NAME]</span><br></pre></td></tr></table></figure></li>
<li><strong>訂閱主題（Subscription）</strong>：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcloud pubsub subscriptions create [SUBSCRIPTION_NAME] --topic=[TOPIC_NAME]</span><br></pre></td></tr></table></figure></li>
<li><strong>發佈訊息</strong>：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcloud pubsub topics publish [TOPIC_NAME] --message=<span class="string">&quot;[MESSAGE_CONTENT]&quot;</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong>Cloud Run (運算)</strong>：</p>
<ul>
<li><strong>部署服務</strong>：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcloud run deploy [SERVICE_NAME] --image=[IMAGE_URL] --platform=managed</span><br></pre></td></tr></table></figure></li>
<li><strong>列出服務</strong>：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcloud run services list</span><br></pre></td></tr></table></figure></li>
<li><strong>獲取服務 URL</strong>：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcloud run services describe [SERVICE_NAME] --format=<span class="string">&#x27;value(status.url)&#x27;</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong>Workflows (AWS Step Functions)</strong>：</p>
<p> gcloud services enable workflows.googleapis.com</p>
<ul>
<li><strong>創建工作流程</strong>：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcloud workflows deploy [WORKFLOW_NAME] --<span class="built_in">source</span>=[WORKFLOW_DEFINITION_FILE]</span><br></pre></td></tr></table></figure></li>
<li><strong>執行工作流程</strong>：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcloud workflows execute [WORKFLOW_NAME] --data=[INPUT_DATA_FILE]</span><br></pre></td></tr></table></figure></li>
<li><strong>列出工作流程</strong>：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcloud workflows list</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong>Dataflow (AWS Kinesis Data Firehose)</strong>：</p>
<ul>
<li><strong>建立 Dataflow 作業</strong>：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcloud dataflow <span class="built_in">jobs</span> run [JOB_NAME] --gcs-location=[PIPELINE_SPECIFICATION_FILE] --region=[REGION]</span><br></pre></td></tr></table></figure></li>
<li><strong>檢視作業狀態</strong>：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcloud dataflow <span class="built_in">jobs</span> describe [JOB_NAME] --region=[REGION]</span><br></pre></td></tr></table></figure></li>
<li><strong>停止作業</strong>：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcloud dataflow <span class="built_in">jobs</span> cancel [JOB_NAME] --region=[REGION]</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
<p>這些指令可讓你在 Google Cloud Platform 上使用相應的服務，提供了建立、管理和操作這些服務的功能。請根據你的需求和場景使用相應的指令。</p>
<h2 id="考題資訊"><a href="#考題資訊" class="headerlink" title="考題資訊"></a>考題資訊</h2><p>以下是將這些主題相關的流程及gcloud指令進行規劃和佈署的步驟：</p>
<ol>
<li><p><strong>具備可擴展性與高可用性的完整 web 應用程式架構</strong>：</p>
<ul>
<li><p><strong>規劃</strong>：</p>
<ul>
<li>使用負載平衡器（如HTTP負載平衡器）將流量分發到多個實例。</li>
<li>將實例部署在多個區域或區域內的多個區域（region），以提高可用性。</li>
<li>使用自動擴展功能，以根據負載自動調整實例數量。</li>
<li>使用故障轉移（Failover）功能來保護應用程式免受區域或區域內的故障。</li>
<li>使用健康檢查來監控實例的狀態，並自動替換失效的實例。</li>
</ul>
</li>
<li><p><strong>佈署</strong>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 創建負載平衡器</span></span><br><span class="line">gcloud compute forwarding-rules create [FORWARDING_RULE_NAME] \</span><br><span class="line">    --load-balancing-scheme=INTERNAL \</span><br><span class="line">    --backend-service=[BACKEND_SERVICE_NAME] \</span><br><span class="line">    --region=[REGION] \</span><br><span class="line">    --ports=80</span><br><span class="line"></span><br><span class="line"><span class="comment"># 設置自動擴展</span></span><br><span class="line">gcloud compute instance-groups managed set-autoscaling [INSTANCE_GROUP_NAME] \</span><br><span class="line">    --max-num-replicas=[MAX_REPLICAS] \</span><br><span class="line">    --min-num-replicas=[MIN_REPLICAS] \</span><br><span class="line">    --target-cpu-utilization=[TARGET_CPU_UTILIZATION]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 設置故障轉移</span></span><br><span class="line">gcloud compute addresses create [FAILOVER_IP_NAME] \</span><br><span class="line">    --region=[REGION] \</span><br><span class="line">    --addresses=[FAILOVER_IP]</span><br><span class="line">gcloud compute instance-groups managed set-named-ports [INSTANCE_GROUP_NAME] \</span><br><span class="line">    --named-ports=[PORT_NAME]:[PORT_NUMBER]</span><br><span class="line">gcloud compute health-checks create http [HEALTH_CHECK_NAME] \</span><br><span class="line">    --port=[PORT_NUMBER]</span><br><span class="line">gcloud compute backend-services add-backend [BACKEND_SERVICE_NAME] \</span><br><span class="line">    --instance-group=[INSTANCE_GROUP_NAME] \</span><br><span class="line">    --health-checks=[HEALTH_CHECK_NAME]</span><br><span class="line">gcloud compute target-pools create [TARGET_POOL_NAME] \</span><br><span class="line">    --region=[REGION]</span><br><span class="line">gcloud compute target-pools add-instances [TARGET_POOL_NAME] \</span><br><span class="line">    --instances=[INSTANCE_GROUP_NAME] \</span><br><span class="line">    --instances-zone=[ZONE]</span><br><span class="line">gcloud compute forwarding-rules create [FAILOVER_RULE_NAME] \</span><br><span class="line">    --region=[REGION] \</span><br><span class="line">    --address=[FAILOVER_IP] \</span><br><span class="line">    --target-pool=[TARGET_POOL_NAME]</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong>解決現有架構中的問題，建立具備高可用性、可擴充性、安全性和彈性的雲端佈署架構</strong>：</p>
<ul>
<li><strong>問題</strong>：單點故障（Single Point of Failure）。</li>
<li><strong>解決方案</strong>：使用多個區域&#x2F;區域內的多個區域部署相同的應用程式，並使用負載平衡器來分發流量。</li>
</ul>
</li>
<li><p><strong>處理持續性的連入請求</strong>：</p>
<ul>
<li><strong>規劃</strong>：使用負載平衡器和自動擴展功能來處理大量的持續性連入請求。</li>
<li><strong>佈署</strong>：參考上述具備可擴展性與高可用性的完整 web 應用程式架構的佈署步驟。</li>
</ul>
</li>
<li><p><strong>提供可擴展的三層式 web 應用程式架構</strong>：</p>
<ul>
<li><strong>問題</strong>：當流量增加時，傳統的三層式架構可能無法應對。</li>
<li><strong>解決方案</strong>：使用自動擴展功能和負載平衡器來動態調整每個層級的資源，以應對不定量的流量請求。</li>
</ul>
</li>
<li><p><strong>建立接收、轉換、處理和發佈資訊所需的雲端計算基礎結構</strong>：</p>
<ul>
<li><strong>規劃</strong>：使用 Google Cloud Dataflow 來處理資訊流。</li>
<li><strong>佈署</strong>：<pre><code class="language-bash">gcloud dataflow jobs run [JOB_NAME] \
    --gcs-location=[PIPELINE_SPECIFICATION_FILE] \
</code></pre>
</li>
</ul>
</li>
</ol>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="https://ezrawu-tw.github.io">YISHENG WU</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="https://ezrawu-tw.github.io/2025/10/28/gcp/">https://ezrawu-tw.github.io/2025/10/28/gcp/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/google-cloud/">google cloud</a><a class="post-meta__tags" href="/tags/google/">google</a></div><div class="post-share"><div class="social-share" data-image="https://lh3.googleusercontent.com/a/ACg8ocJ-AxqZX3ywO-st4G6QEtLv0mhEAW2WnVCCd3FKD2xlTFwvXmkeRA=s288-c-no" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/10/28/software-engineer-at-google/" title="software_engineer_at_google"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">software_engineer_at_google</div></div><div class="info-2"><div class="info-item-1">Google 軟體工程之道 知識共享 強調知識共享避免資訊孤島的狀況發生，每個孤島都會延伸一個問題，因此在團隊中建立知識庫是很重要的一步 在團隊學習中，為不熟的團隊成員構建一個心理安全的環境是重要的  團隊互動模式   推薦模式 反模式    基本問題或錯誤都被引導到正確方向 基本問題被挑出來，提出問題的人會受到懲罰   給出解釋是為了幫助提問者學習 給出解釋是為了炫技   回應是友善、耐心，有幫助得 回應是傲慢、尖酸刻薄，沒有建設性的   互動是為了尋找解決方案而進行的共同討論 互動是為了有”贏家”和 “輸家”的爭論   結語 從小事做起：提出問題，並把事情寫下來 在系統層面上，鼓勵和獎勵那些花時間教授和擴展其專業知識的人，而不僅僅是為了他們自己、團隊及組織  如何領導一個團隊? 傳統的經理是擔心如何完成任務，而偉大的經理則擔心會完成什麼任務(並信任他們的團隊能想出辦法來解決任務)  失敗是一種選擇失敗是可以的，失敗是一種快速的學習方法(前提是你不會在同一件事上反覆失敗)，失敗視為學習機會而不是指責  快速失敗是好的，因為沒有過多的風險 在失敗的情況，尋找個人的責任是畫分團隊和...</div></div></div></a><a class="pagination-related" href="/2025/10/28/mqtt-setting/" title="mqtt_setting"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">mqtt_setting</div></div><div class="info-2"><div class="info-item-1">MQTT 基本設定1. MQTT Broker 設定 (使用 Mosquitto)123# mosquitto.conflistener 1883allow_anonymous true  舉手轉頭次數會由pytnon這邊直接存進資料庫 這應該就是我說的訓練開始對吧，那除了這個以外，結束也需傳一個，我有寫在下面  碰撞事件 Topic: collision_topic  123&#123;  &quot;hit_light&quot;: true|false&#125;  3. IoT to Python 開始一位新的學生 Topic: game_start_topic  123&#123;  &quot;game_start&quot;: true|false&#125; 這位學生結束 Topic: game_over_topic  123&#123;  &quot;game_over&quot;: true|false&#125;  4. Python to IoT 每幀行人走到哪了 Topic: student_walk_distence_topic  1234&#123;...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/10/28/gcp-02/" title="gcp_02"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-10-28</div><div class="info-item-2">gcp_02</div></div><div class="info-2"><div class="info-item-1">GCP衝刺 Load balance 負載平衡器https://youtu.be/ZskT0ZSEPEg GCP教學https://youtube.com/playlist?list=PLvYsUzEf9kaP39bS21SKn4Onp3KQRbFsA   12345678910111213141516#! /bin/bashsudo apt-get updatesudo apt-get install -y python3 python3-dev python3-pipcd nsc-q2export EXTERNAL_IP=34.110.254.140	sed -i &quot;s/EXTERNAL_IP/$&#123;EXTERNAL_IP&#125;/I&quot;&#x27; ./templates/index.htmlpip3 install -r requirements.txtexport GOOGLE_APPLICATION_CREDENTIALS=GOOGLE_APPLICATION_CREDENTIALS export DB_HOST= export DB_P...</div></div></div></a><a class="pagination-related" href="/2025/10/28/google-sheet-database/" title="google_sheet_database"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-10-28</div><div class="info-item-2">google_sheet_database</div></div><div class="info-2"><div class="info-item-1">如何用 Google Sheets &#x2F; Excel 當作資料庫？ 建立 Google Excel 設定的假資料欄位 (欄位名稱的部份要用英文)   id：流水號 name：姓名 image：圖片 email：信箱 phone：電話  特別注意下面要求的表單是指(工作表一)不是DB  發佈 Google Excel 到網路   Demo 因為只有一張表，所以直接用「整份文件」，如果是有很多張表，但限制其中幾張是可以抓的，就選擇可以公開的表即可。  (點選發佈到網路上) 按發布  接著記得將表單的「檢視」權限開放給知道連結的任何人，以免後面步驟因權限不足而被阻擋。 這邊的連結(才是後面才要的格式，就是複製連結按下去)   取得 Google API Key GCP 新增新專案沒有專案的才需要這步，進到 Google Cloud Platform 的頁面按下新增專案，取好專案名稱後即可新增。  開通 Google Sheets API 功能有了 GCP 的專案後，進到 API 程式庫：https://console.cloud.google.com/apis/library?...</div></div></div></a><a class="pagination-related" href="/2025/10/28/software-engineer-at-google/" title="software_engineer_at_google"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-10-28</div><div class="info-item-2">software_engineer_at_google</div></div><div class="info-2"><div class="info-item-1">Google 軟體工程之道 知識共享 強調知識共享避免資訊孤島的狀況發生，每個孤島都會延伸一個問題，因此在團隊中建立知識庫是很重要的一步 在團隊學習中，為不熟的團隊成員構建一個心理安全的環境是重要的  團隊互動模式   推薦模式 反模式    基本問題或錯誤都被引導到正確方向 基本問題被挑出來，提出問題的人會受到懲罰   給出解釋是為了幫助提問者學習 給出解釋是為了炫技   回應是友善、耐心，有幫助得 回應是傲慢、尖酸刻薄，沒有建設性的   互動是為了尋找解決方案而進行的共同討論 互動是為了有”贏家”和 “輸家”的爭論   結語 從小事做起：提出問題，並把事情寫下來 在系統層面上，鼓勵和獎勵那些花時間教授和擴展其專業知識的人，而不僅僅是為了他們自己、團隊及組織  如何領導一個團隊? 傳統的經理是擔心如何完成任務，而偉大的經理則擔心會完成什麼任務(並信任他們的團隊能想出辦法來解決任務)  失敗是一種選擇失敗是可以的，失敗是一種快速的學習方法(前提是你不會在同一件事上反覆失敗)，失敗視為學習機會而不是指責  快速失敗是好的，因為沒有過多的風險 在失敗的情況，尋找個人的責任是畫分團隊和...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="https://lh3.googleusercontent.com/a/ACg8ocJ-AxqZX3ywO-st4G6QEtLv0mhEAW2WnVCCd3FKD2xlTFwvXmkeRA=s288-c-no" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">YISHENG WU</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">41</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">43</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">9</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/ezrawu-tw"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Anxiety Is the Dizziness of Freedom - Søren Kierkegaard</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%87%A8%E6%99%82%E6%8A%B1%E4%BD%9B%E8%85%B3-GCP%E7%AB%B6%E8%B3%BD%E6%95%B4%E7%90%86"><span class="toc-number">1.</span> <span class="toc-text">臨時抱佛腳-GCP競賽整理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#22%E5%B9%B4%E8%80%83%E5%8F%A4"><span class="toc-number">1.1.</span> <span class="toc-text">22年考古</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BB%BA%E7%AB%8BVM-VPC"><span class="toc-number">1.1.1.</span> <span class="toc-text">建立VM|VPC</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#create-VPC-SubNet-FR-VM-SSH"><span class="toc-number">1.1.1.1.</span> <span class="toc-text">create VPC | SubNet | FR | VM |SSH</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BB%BA%E7%AB%8BSQL-DB"><span class="toc-number">1.1.2.</span> <span class="toc-text">建立SQL DB</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BB%BA%E7%AB%8Bcloud-sql-management-instance-group"><span class="toc-number">1.1.2.1.</span> <span class="toc-text">建立cloud sql | management instance group</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#firewall-rule-for-healthy-check"><span class="toc-number">1.1.2.1.1.</span> <span class="toc-text">firewall rule for healthy check</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#HTTP-load-balance"><span class="toc-number">1.1.2.1.2.</span> <span class="toc-text">HTTP load balance</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GCS-BUCKET"><span class="toc-number">1.1.3.</span> <span class="toc-text">GCS BUCKET</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#22%E5%B9%B4%E8%A7%A3%E9%A1%8C%E9%81%8E%E7%A8%8B"><span class="toc-number">2.</span> <span class="toc-text">22年解題過程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%8C%E7%9B%AE1"><span class="toc-number">2.1.</span> <span class="toc-text">題目1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%8C%E7%9B%AE2"><span class="toc-number">2.2.</span> <span class="toc-text">題目2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%8C%E7%9B%AE3"><span class="toc-number">2.3.</span> <span class="toc-text">題目3</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%80%83%E9%A1%8C%E5%85%AC%E5%91%8A"><span class="toc-number">2.4.</span> <span class="toc-text">考題公告</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%80%83%E9%A1%8C%E8%B3%87%E8%A8%8A"><span class="toc-number">2.5.</span> <span class="toc-text">考題資訊</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/11/24/mit-study-brain-chatgpt/" title="Can We Still Think Critically in the Age of AI?">Can We Still Think Critically in the Age of AI?</a><time datetime="2025-11-24T13:41:38.151Z" title="Created 2025-11-24 21:41:38">2025-11-24</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/11/24/Why-Reading-10-Pages-a-Day-Can-Transform-Your-Mind/" title="Why Reading 10 Pages a Day Can Transform Your Mind">Why Reading 10 Pages a Day Can Transform Your Mind</a><time datetime="2025-11-24T13:29:40.089Z" title="Created 2025-11-24 21:29:40">2025-11-24</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/11/24/Diagrammatic-Design-Process-N-djoe/" title="dJOE - design Jigsaw On sitE A Computational Interface of Displacing Ideas in the Design Productive Process">dJOE - design Jigsaw On sitE A Computational Interface of Displacing Ideas in the Design Productive Process</a><time datetime="2025-11-24T12:25:26.032Z" title="Created 2025-11-24 20:25:26">2025-11-24</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/11/24/Diagrammatic-Design-Process-N-03/" title="Visualising the Design Process with Dynamic Graph">Visualising the Design Process with Dynamic Graph</a><time datetime="2025-11-24T11:51:26.541Z" title="Created 2025-11-24 19:51:26">2025-11-24</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/11/24/Diagrammatic-Design-Process-N-02/" title="A is b, displacement">A is b, displacement</a><time datetime="2025-11-24T11:18:12.402Z" title="Created 2025-11-24 19:18:12">2025-11-24</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(https://images.unsplash.com/photo-1747119072012-825949dec726?ixlib=rb-4.1.0&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&amp;auto=format&amp;fit=crop&amp;q=80&amp;w=1171);"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2019 - 2025 By YISHENG WU</span><span class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 8.1.1</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.2</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script async data-pjax src="/"></script></div></body></html>